# Generic Login Flow Template
# Copy and customize for your application

name: login-flow
description: Generic login and authentication test flow
version: 1.0.0
tags:
  - auth
  - login
  - smoke

allowed_environments:
  - dev
  - staging
  - qa

required_variables:
  - testTenant

default_variables:
  login_url: "${UI_BASE_URL}/login"
  dashboard_url: "${UI_BASE_URL}/dashboard"
  username: "test-user"
  password: "test-password"

steps:
  - name: Navigate to Login Page
    type: ui
    description: Open the login page
    ui:
      action: navigate
      url: "${login_url}"
      timeout_ms: 30000

  - name: Enter Username
    type: ui
    description: Fill in username field
    ui:
      action: fill
      selector: "input[name='username'], input[type='email'], #username"
      value: "${username}"

  - name: Enter Password
    type: ui
    description: Fill in password field
    ui:
      action: fill
      selector: "input[name='password'], input[type='password'], #password"
      value: "${password}"

  - name: Click Login Button
    type: ui
    description: Submit the login form
    ui:
      action: click
      selector: "button[type='submit'], input[type='submit'], .login-btn, #login"
      screenshot: true

  - name: Verify Login Success
    type: ui
    description: Wait for dashboard or success indicator
    ui:
      action: wait_for_selector
      selector: ".dashboard, .user-menu, .logged-in, #welcome"
      timeout_ms: 10000
      screenshot: true
