# Generic Form Submission Test
# Copy and customize for any web form

name: form-submission
description: Generic form fill and submit test
version: 1.0.0
tags:
  - ui
  - form
  - smoke

allowed_environments:
  - dev
  - staging
  - qa

required_variables:
  - testTenant

default_variables:
  form_url: "${UI_BASE_URL}/contact"

steps:
  - name: Navigate to Form
    type: ui
    description: Open the form page
    ui:
      action: navigate
      url: "${form_url}"
      timeout_ms: 30000
      screenshot: true

  - name: Fill Name Field
    type: ui
    description: Enter name in form
    ui:
      action: fill
      selector: "input[name='name'], #name, .name-field"
      value: "QA Test User"

  - name: Fill Email Field
    type: ui
    description: Enter email in form
    ui:
      action: fill
      selector: "input[name='email'], input[type='email'], #email"
      value: "qa-test@example.com"

  - name: Fill Message Field
    type: ui
    description: Enter message in textarea
    ui:
      action: fill
      selector: "textarea[name='message'], textarea, #message"
      value: "This is an automated test submission from QA Agent."

  - name: Submit Form
    type: ui
    description: Click submit button
    ui:
      action: click
      selector: "button[type='submit'], input[type='submit'], .submit-btn"
      screenshot: true

  - name: Verify Submission
    type: ui
    description: Check for success message
    ui:
      action: wait_for_selector
      selector: ".success, .thank-you, .confirmation"
      timeout_ms: 10000
      screenshot: true
