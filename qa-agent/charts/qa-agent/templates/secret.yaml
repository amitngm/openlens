{{- if .Values.secrets.create }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "qa-agent.secretName" . }}
  namespace: {{ .Values.global.namespace }}
  labels:
    {{- include "qa-agent.labels" . | nindent 4 }}
type: Opaque
data:
  # UI Test Account Credentials
  # IMPORTANT: These must be test account credentials only
  # Never use production user credentials
  {{- if .Values.secrets.uiUsername }}
  UI_USERNAME: {{ .Values.secrets.uiUsername | b64enc | quote }}
  {{- end }}
  {{- if .Values.secrets.uiPassword }}
  UI_PASSWORD: {{ .Values.secrets.uiPassword | b64enc | quote }}
  {{- end }}
  
  # API Token for Bearer Authentication
  {{- if .Values.secrets.apiToken }}
  API_TOKEN: {{ .Values.secrets.apiToken | b64enc | quote }}
  {{- end }}
{{- end }}
